### 函数定义

```c
int Column; // 定义全局变量
static int Column // 静态全局变量，只允许当前文件引用，不允许外部文件引用;
int max(int x, int y) {
  if(x > y) return x;
  else return y;
}

int main()
{
  int max(int x, int y); // 函数声明形式1
  int max(int, int) // 函数声明形式2
  printf("%d\n", max(3, 4));
}
```

### 函数调用过程(以上面函数定位为例)

1. 在定义函数中指定的形参，在未出现函数调用时，他们并不占用内存中的存储单元，在发生函数调用时，函数 max 中的形参被分配内存单元
2. 将实参对应的值传递给形参
3. 在执行 max 函数期间，由于形参已经有值，就可以进行有关的运算
4. 通过 return 语句将函数值带回到主调函数
5. 调用结束，形参单元被释放

### 函数调用(普通调用)

重点：**函数形参是按值传递的(传整个数组除外，数组是按地址传递)，就算函数内改变原来参数的值，原来参数的值也不受影响（包括传数组某一项）**，

函数声明的作用：通知编译系统，编译系统能据此识别函数并检查函数调用是否合法。函数声明的另一种形式

说明: 如果被调用函数的定义出现在 main 函数之前，那可以不加函数声明

### 函数调用(传整个数组情况)

由于数组名代表数组首元素的地址，因此只是将数组的首元素的地址传输给对应形参

### 函数的嵌套调用和递归调用

递归调用：在调用函数过程中直接或间接地调用该函数本身，成为函数的递归调用。

### 变量的作用域和生存期

1. 局部变量：在函数或复合语句中定义的变量，只在本函数或符合语句内范围有效。使用时才分配存储单元，不占用空间。也叫**动态存储**函数内的变量，函数调用完释放回收空间
2. 全局变量：在函数外定义的变量，提前分配存储单元，占用空间。也叫**静态存储**在函数外定义的变量，程序运行过程中都存在，
3. 每一个变量和函数都有两个属性：**数据类型**和**数据存储类别**
4. 变量的作用域：变量的有效范围

### 变量的存储类别

1. auto: 声明自动变量，比如函数形参和在函数中定义的变量，在函数调用结束时就自动释放这些存储空间，所以这类变量被称为**自动变量**，auto 关键字可以省略。
2. static：声明静态变量，函数中的变量在调用结束后不消失而保留原值。该变量在整个程序运行期间都不释放空间(缩略图 239)

```c
static int f = 1; // 只初始化一次，在程序运行期间都不释放空间，，不能被外部其他文件所引用
```

3. register：寄存器变量。一些频繁使用的变量(比如循环 10000 次)，每次循环都要引用局部变量，这种频繁操作的变量每次存储都会花费很多时间，为提高效率直接放 cpu 的寄存器中，增加存取速度

```c
register int f;
```

4. extern：声明外部变量的作用范围，因为全局变量的作用域只在于从定义点到文件结束(全局变量不一定写在最头部)，这样会导致上面的函数引用不到全局变量(缩略图 241)

```c
extern b;
```

### 内部函数和外部函数

内部函数：只能被本文件中的其他函数所调用，比如 static int fun(int a, int b);
外部函数：定义时在函数处加 extern 的函数，可以被其他文件调用，比如 extern int fun(int a, int b);
