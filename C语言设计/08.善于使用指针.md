### 指针

C 语言定义变量时对该变量分配内存单元，每个内存单元都会有一个编号，这就内存单元的地址，**地址指向该变量单元，将地址形象化地称为"指针"**，C 语言的地址都是带类型的地址，只有纯地址是无法对内存单元进行访问的

```c
// 定义指针变量
int a =100;
// *p1 代表p1所指向的变量，也就是变量a
int *p1 = &a,; // 可以初始化也可以不初始化
printf("%d", *p1);
/*
※※※※※※※※※※
上面 int *p1表示定义p1为整型指针变量，
p1 =  &a; 表示把a的地址赋予p1，这个时候p1就指向了a；
后面*p1代表p1所指向的对象，也就是a

即
*p => 变量a
p => 变量a的地址
※※※※※※※※※※
*/
```

### 指针变量赋值过程中发生了什么(以下面代码为例子)

```c
int a;
int *p=&a;
```

1. 定义一个指向整型类数据的指针变量 p
2. 把 p 整型变量地址&a 赋值给 p，使得 p 指向 a，其中&a 包含 2 个信息：纯地址和 a 的类型。赋值时会先检查&a 和 p 的类型是否相同，不相同不能赋值。

具体看 chapter8 的代码

### 通过指针引用数组

```c
int a[10];
int *p;
p = &a[0]; // 或者p=a
```

### 通过指针引用字符串

```c
char *string = "i love china";

```

### 易错地方

1. 输入两个值，按从大到小排列

```c
// 运行下面代码 输入5,9 打印出来的也是5,9
// C语言中实参变量和形参变量的数据传递是单项的值传递，用指针变量也要遵守这一情况
int main()
{
  void swap(int *p1, int *p2);
  int *z1, *z2, a, b;
  scanf("%d,%d", &a, &b);
  z1 = &a;
  z2 = &b;
  if (a < b)
  {
    swap(z1, z2);
  }
  printf("max=%d,min=%d\n", a, b);
  return 0;
}

void swap(int *p1, int *p2)
{
  int *p;
  p = p1;
  p1 = p2;
  p2 = p;
}
```

| 定义         | 含义                                                      |
| ------------ | --------------------------------------------------------- |
| int i        | 定义整型变量 i                                            |
| int \*p      | p 为指向整型数据的指针变量                                |
| int a[n]     | 定义整型数组，它有 n 个元素                               |
| int \*p[n]   | 定义指针数组，它由 n 个指向整型数据的指针元素组成         |
| int (\*p)[n] | p 为指向含 n 个元素的一维数组的指针变量                   |
| int f()      | f 为返回整型的函数                                        |
| int \*p()    | p 为返回一个指针的函数，该指针指向整型数据                |
| int (\*p)()  | p 为指向函数的指针，该函数返回一个整型值                  |
| int \*\*p    | p 是一个函数指针，它指向一个指向整型数据的变量            |
| void \*p     | p 是一个指针变量，基类型为 void(空类型), 不指向具体的数据 |
